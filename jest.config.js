/** @type {import('jest').Config} */
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'jest-environment-jsdom',
  setupFilesAfterEnv: ['<rootDir>/jest.setup.ts'],

  moduleNameMapper: {
    '^@/(.*)$': '<rootDir>/src/$1',
    '\\.(css|less|scss|sass)$': 'identity-obj-proxy',
    '\\.(jpg|jpeg|png|gif|webp|svg)$': '<rootDir>/__mocks__/fileMock.js',
  },

  transform: {
    '^.+\\.(ts|tsx|js|jsx)$': ['babel-jest', { configFile: './babel.jest.config.js' }],
  },
  
  transformIgnorePatterns: [
    "node_modules/(?!(?:@adobe/css-tools|@adraffy/ens-normalize|@asamuzakjp/css-color|@babel/compat-data|@babel/helper-compilation-targets|@babel/helper-define-polyfill-provider|@babel/helper-globals|@babel/helper-skip-transparent-expression-wrappers|@babel/helper-string-parser|@babel/helper-validator-identifier|@babel/helper-validator-option|@babel/plugin-bugfix-firefox-class-in-computed-class-key|@babel/plugin-bugfix-safari-class-field-initializer-scope|@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression|@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining|@babel/plugin-bugfix-v8-static-class-fields-redefine-readonly|@babel/plugin-syntax-class-static-block|@babel/plugin-syntax-import-attributes|@babel/plugin-syntax-private-property-in-object|@babel/plugin-syntax-unicode-sets-regex|@babel/plugin-transform-class-static-block|@babel/plugin-transform-duplicate-named-capturing-groups-regex|@babel/plugin-transform-explicit-resource-management|@babel/plugin-transform-regexp-modifiers|@babel/plugin-transform-unicode-sets-regex|@babel/runtime|@base-org/account|@coinbase/wallet-sdk|@csstools/color-helpers|@csstools/css-calc|@csstools/css-color-parser|@csstools/css-parser-algorithms|@csstools/css-tokenizer|@ecies/ciphers|@emnapi/core|@emnapi/runtime|@emnapi/wasi-threads|@emotion/hash|@eslint/config-array|@eslint/config-helpers|@eslint/core|@eslint/eslintrc|@eslint/object-schema|@eslint/plugin-kit|@eslint-community/eslint-utils|@eslint-community/regexpp|@gemini-wallet/core|@humanfs/core|@humanfs/node|@humanwhocodes/module-importer|@humanwhocodes/retry|@img/sharp-win32-x64|@isaacs/cliui|@isaacs/fs-minipass|@jest/console|@jest/core|@jest/diff-sequences|@jest/environment|@jest/environment-jsdom-abstract|@jest/expect|@jest/expect-utils|@jest/fake-timers|@jest/get-type|@jest/globals|@jest/pattern|@jest/reporters|@jest/schemas|@jest/snapshot-utils|@jest/source-map|@jest/test-result|@jest/test-sequencer|@jest/transform|@jest/types|@jridgewell/gen-mapping|@jridgewell/remapping|@jridgewell/resolve-uri|@jridgewell/sourcemap-codec|@jridgewell/trace-mapping|@lit/reactive-element|@lit-labs/ssr-dom-shim|@metamask/json-rpc-engine|@metamask/json-rpc-middleware-stream|@metamask/providers|@metamask/rpc-errors|@metamask/safe-event-emitter|@metamask/superstruct|@metamask/utils|@napi-rs/wasm-runtime|@noble/ciphers|@noble/curves|@noble/hashes|@nolyfill/is-core-module|@paulmillr/qr|@pkgjs/parseargs|@pkgr/core|@radix-ui/primitive|@radix-ui/react-collection|@radix-ui/react-compose-refs|@radix-ui/react-context|@radix-ui/react-dialog|@radix-ui/react-direction|@radix-ui/react-dismissable-layer|@radix-ui/react-focus-guards|@radix-ui/react-focus-scope|@radix-ui/react-id|@radix-ui/react-portal|@radix-ui/react-presence|@radix-ui/react-primitive|@radix-ui/react-progress|@radix-ui/react-roving-focus|@radix-ui/react-slot|@radix-ui/react-tabs|@radix-ui/react-toast|@radix-ui/react-use-callback-ref|@radix-ui/react-use-controllable-state|@radix-ui/react-use-effect-event|@radix-ui/react-use-escape-keydown|@radix-ui/react-use-layout-effect|@radix-ui/react-visually-hidden|@rainbow-me/rainbowkit|@reduxjs/toolkit|@reown/appkit|@reown/appkit-common|@reown/appkit-controllers|@reown/appkit-pay|@reown/appkit-polyfills|@reown/appkit-scaffold-ui|@reown/appkit-ui|@reown/appkit-utils|@reown/appkit-wallet|@safe-global/safe-apps-sdk|@scure/base|@scure/bip32|@scure/bip39|@sinclair/typebox|@standard-schema/spec|@standard-schema/utils|@swc/helpers|@tailwindcss/node|@tailwindcss/postcss|@tanstack/query-core|@tanstack/react-query|@testing-library/jest-dom|@tybys/wasm-util|@types/jsdom|@types/react|@types/react-dom|@types/yargs|@typescript-eslint/eslint-plugin|@typescript-eslint/parser|@typescript-eslint/project-service|@typescript-eslint/scope-manager|@typescript-eslint/tsconfig-utils|@typescript-eslint/type-utils|@typescript-eslint/types|@typescript-eslint/typescript-estree|@typescript-eslint/utils|@typescript-eslint/visitor-keys|@ungap/structured-clone|@vanilla-extract/css|@vanilla-extract/dynamic|@vanilla-extract/sprinkles|@wagmi/connectors|@wagmi/core|@walletconnect/ethereum-provider|@walletconnect/universal-provider|abitype|acorn|aes-js|array-buffer-byte-length|array.prototype.findlast|array.prototype.findlastindex|array.prototype.tosorted|arraybuffer.prototype.slice|async-function|async-mutex|available-typed-arrays|babel-jest|babel-plugin-jest-hoist|babel-plugin-polyfill-corejs2|babel-plugin-polyfill-corejs3|babel-plugin-polyfill-regenerator|babel-preset-jest|base-x|baseline-browser-mapping|big.js|bs58|call-bind|call-bind-apply-helpers|call-bound|chownr|cjs-module-lexer|class-variance-authority|client-only|cliui|clsx|cookie-es|crossws|cuer|d3-array|d3-color|d3-ease|d3-format|d3-interpolate|d3-path|d3-scale|d3-shape|d3-time|d3-time-format|d3-timer|data-view-buffer|data-view-byte-length|data-view-byte-offset|decimal.js|dedent|deep-object-diff|define-data-property|defu|dequal|derive-valtio|destr|dom-accessibility-api|dunder-proto|eciesjs|engine.io-client|engine.io-parser|entities|es-define-property|es-errors|es-iterator-helpers|es-object-atoms|es-set-tostringtag|es-shim-unscopables|es-toolkit|escalade|eslint|eslint-import-resolver-typescript|eslint-module-utils|eslint-scope|eslint-visitor-keys|espree|ethereum-cryptography|ethers|expect|flatted|foreground-child|fraction.js|get-intrinsic|get-package-type|get-proto|get-symbol-description|get-tsconfig|glob|goober|gopd|h3|has-property-descriptors|has-proto|has-tostringtag|hasown|hono|idb-keyval|immer|import-fresh|internmap|iron-webcrypto|is-array-buffer|is-async-function|is-bun-module|is-core-module|is-data-view|is-date-object|is-finalizationregistry|is-shared-array-buffer|is-weakref|isows|iterator.prototype|jackspeak|jest|jest-changed-files|jest-circus|jest-cli|jest-config|jest-diff|jest-docblock|jest-each|jest-environment-jsdom|jest-environment-node|jest-haste-map|jest-leak-detector|jest-matcher-utils|jest-message-util|jest-mock|jest-regex-util|jest-resolve|jest-resolve-dependencies|jest-runner|jest-runtime|jest-snapshot|jest-util|jest-validate|jest-watcher|jest-worker|jiti|js-yaml|lightningcss|lit|lit-element|lit-html|lru-cache|magic-string|math-intrinsics|minipass|minizlib|mipd|modern-ahocorasick|multiformats|nanoid|napi-postinstall|node-fetch-native|node-mock-http|node-releases|object.groupby|ofetch|openapi-fetch|openapi-typescript-helpers|own-keys|ox|package-json-from-dist|parse5|path-scurry|pony-cause|porto|possible-typed-array-names|postcss|postcss-js|preact|pretty-format|proxy-compare|psl|pure-rand|qr|radix3|react|react-dom|react-hot-toast|react-redux|redux|redux-thunk|reflect.getprototypeof|reselect|resolve-pkg-maps|safe-array-concat|safe-push-apply|safe-regex-test|safe-stable-stringify|set-function-length|set-proto|side-channel|side-channel-list|side-channel-map|side-channel-weakmap|signal-exit|socket.io-client|socket.io-parser|sonner|stable-hash|stop-iteration-iterator|string-width|string.prototype.includes|string.prototype.repeat|strip-ansi|superstruct|supports-preserve-symlinks-flag|synckit|tailwind-merge|tar|tiny-invariant|tinyglobby|ts-api-utils|tslib|typed-array-buffer|typed-array-byte-length|typed-array-byte-offset|typed-array-length|ufo|uint8arrays|uncrypto|unstorage|update-browserslist-db|use-sync-external-store|valtio|victory-vendor|viem|wagmi|which-builtin-type|which-collection|wrap-ansi|ws|y18n|yallist|yaml|yargs|yargs-parser|zod|zustand)/)",
  ],

  moduleFileExtensions: ['ts', 'tsx', 'js', 'jsx', 'json', 'node'],
  collectCoverage: true,
  coverageDirectory: '<rootDir>/coverage',
}
